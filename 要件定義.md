# 要件定義書

## 1. プロジェクト背景・目的

### 1.1 背景
- 玄関に2つの鍵（サムターン式本錠・バー式ロック）がある
- 外出時・就寝時に鍵の閉め忘れが心配になることがある
- 夫婦間で「鍵閉めた？」の確認が曖昧になりがち
- 過去の施錠状況を振り返りたいニーズがある

### 1.2 目的
- **主目的**: 2つの鍵が確実にロックされているかをダブルチェックできる仕組みを提供
- **副目的**: 施錠履歴をカレンダー形式で可視化し、安心感を提供
- **最終目標**: 鍵の閉め忘れによる不安を解消し、外出・就寝時の安心感を向上

## 2. ターゲットユーザー

### 2.1 プライマリユーザー
- **ユーザー1**: 私（開発者）
- **ユーザー2**: 妻
- **想定利用人数**: 最大2名（追加拡張は不要）

### 2.2 ユーザー特性
- ITリテラシー: 中程度（スマホアプリは使える）
- 利用頻度: 1日1-2回（外出前・就寝前）
- 利用時間: 1回あたり10-30秒以内
- デバイス: スマートフォン（iOS/Android）

## 3. 課題・問題点

### 3.1 現在の課題
- 鍵を閉めたか記憶が曖昧になる
- 夫婦間での確認が口頭のみで記録が残らない
- 過去の施錠状況が確認できない
- 外出先で「鍵閉めたっけ？」と不安になる

### 3.2 解決すべき問題
- 施錠状況の確実な記録
- 夫婦間での情報共有
- 履歴の可視化
- 簡単・迅速な操作性

## 4. 解決策・アプローチ

### 4.1 基本アプローチ
- **究極のシンプル設計**: 日付＋2つのボタンのみの最小構成
- **手間ゼロ**: 最短2タップで完了する操作性
- **一流デザイナー品質**: Apple・Google レベルの洗練されたUI
- **スマホ最適化**: 片手操作で全て完結
- **ローカル完結**: サーバー不要で即座に動作

### 4.2 技術アプローチ
- 静的SPA（Single Page Application）
- ローカルストレージによるデータ保存
- レスポンシブデザインでスマホ最適化

## 5. 機能要求

### 5.1 必須機能（MustHave）
1. **今日のチェック機能**
   - 本錠・バー錠の個別チェック
   - 日付自動表示
   - 保存機能
   
2. **履歴表示機能**
   - カレンダービューでの履歴表示
   - 過去3ヵ月分の表示
   - 日別詳細表示

3. **基本設定機能**
   - データ初期化
   - ダーク/ライトテーマ切替

### 5.2 推奨機能（ShouldHave）
1. **操作履歴詳細**
   - タイムスタンプ記録
   - 操作者識別（簡易）

2. **視覚的フィードバック**
   - 状態アイコン表示
   - 色分けによる状況表示

### 5.3 将来機能（CouldHave）
1. 通知機能（時間指定リマインダー）
2. 統計情報表示（月別サマリーなど）
3. エクスポート機能（CSV出力など）

## 6. 非機能要求

### 6.1 性能要件
- **応答時間**: 全操作が1秒以内で完了
- **起動時間**: 3秒以内でアプリが使用可能
- **データ容量**: 1年分のデータで1MB以下

### 6.2 信頼性要件
- **データ保持**: ブラウザキャッシュクリア以外でデータ消失しない
- **クロスブラウザ対応**: Chrome, Safari, Firefox, Edge
- **エラー耐性**: 不正なデータでもアプリがクラッシュしない

### 6.3 使いやすさ要件
- **直感的操作**: 説明書なしで使える
- **レスポンシブ**: スマホ画面で快適に操作可能
- **アクセシビリティ**: 基本的な色覚対応

### 6.4 セキュリティ要件
- **データ保護**: 端末ローカル保存（外部送信なし）
- **認証**: 不要（端末レベルでの保護に依存）

## 7. 制約条件

### 7.1 技術的制約
- **サーバーレス**: 静的ファイルのみで動作
- **ビルド不要**: npm等の開発環境不要
- **CDN依存**: 外部ライブラリはCDN経由で利用

### 7.2 運用制約
- **メンテナンス**: 最小限（静的ファイルのみ）
- **バックアップ**: ユーザー自身で管理
- **サポート**: セルフサポート

### 7.3 期間制約
- **開発期間**: 1-2週間程度
- **リリース**: 即座に利用開始可能

## 8. 前提条件

### 8.1 利用環境
- **デバイス**: スマートフォン・タブレット・PC
- **ブラウザ**: モダンブラウザ（ES6対応）
- **ネット接続**: 初回読み込み時のみ必要（CDN取得）

### 8.2 ユーザー前提
- **基本操作**: タップ・スクロール操作ができる
- **設置場所**: 玄関近くでスマホを利用可能

## 9. 受け入れ基準

### 9.1 機能的受け入れ基準
- ✅ 2つの鍵の状態を個別にチェック・保存できる
- ✅ カレンダーで過去の履歴を確認できる
- ✅ スマホで快適に操作できる
- ✅ データが永続的に保存される

### 9.2 品質的受け入れ基準
- ✅ 操作が2タップで完了する（本錠→バー錠）
- ✅ 一流デザイナー品質のUI（Apple・Google レベル）
- ✅ 片手操作で全機能が利用可能
- ✅ 主要ブラウザで正常動作する
- ✅ エラー時も適切にハンドリングされる

### 9.3 完了基準
- ✅ 1週間の実際の利用でバグが発生しない
- ✅ 夫婦2人が問題なく利用できる
- ✅ 日常的に使いたくなる使用感