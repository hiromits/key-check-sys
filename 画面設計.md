# 画面設計書

## 1. 画面一覧

| 画面ID | 画面名 | 概要 | 優先度 |
|---|---|---|---|
| SC001 | メイン画面（今日のチェック） | 本日の施錠チェック・記録 | 高 |
| SC002 | カレンダー画面 | 過去の履歴をカレンダー表示 | 高 |
| SC003 | 詳細モーダル | 選択日の詳細情報表示 | 中 |
| SC004 | 設定画面 | アプリ設定・データ管理 | 低 |

## 2. 画面遷移図

```
┌─────────────────┐
│  メイン画面     │◄─┐
│ (今日のチェック)  │  │
└─────┬───────────┘  │
        │                 │
        ▼                 │
┌─────────────────┐   │
│ カレンダー画面   │   │
│   (履歴表示)    │   │
└─────┬───────────┘   │
        │                 │
        ▼                 │
┌─────────────────┐   │
│ 詳細モーダル     │   │
│  (日別詳細)     │   │
└─────┬───────────┘   │
        │                 │
        ▼                 │
┌─────────────────┐   │
│   設定画面      │───┘
│ (アプリ設定)     │
└─────────────────┘
```

## 3. 画面詳細

### 3.1 メイン画面（今日のチェック）
- **画面ID**: SC001
- **画面名**: 今日のチェック
- **概要**: 超シンプル・洗練されたメイン機能（Apple品質）
- **表示条件**: アプリ起動時の初期画面
- **画面要素**: 
  ```
  ┌─────────────────────────────┐
  │                           │ 
  │     6月23日（日）          │ 日付（大・中央）
  │                           │
  │                           │
  │ ┌─────────────────────────┐ │
  │ │         本錠           │ │ 鍵1ボタン（大）
  │ │         🔓            │ │ 状態アイコン
  │ └─────────────────────────┘ │
  │                           │
  │ ┌─────────────────────────┐ │
  │ │        バー錠          │ │ 鍵2ボタン（大）
  │ │         🔓            │ │ 状態アイコン
  │ └─────────────────────────┘ │
  │                           │
  │                           │
  │     ┌─────────────────┐     │
  │     │   ✅ 完了        │     │ 完了ボタン
  │     └─────────────────┘     │ （両方🔒時のみ）
  │                           │
  │                           │
  │ 📊                    ⚙️  │ 履歴・設定（小・下部）
  └─────────────────────────────┘
  ```
- **操作**: 
  - 鍵ボタンタップ：🔓⇄🔒即座に切替（自動保存）
  - 完了ボタン：最終確認・履歴記録（両方🔒時のみ表示）
  - 下部アイコン：履歴・設定へ軽くアクセス
- **UX特徴**:
  - **2タップ完了**: 本錠→バー錠→完了で終了
  - **即座フィードバック**: タップ瞬間に状態変化
  - **自動保存**: トグル操作で即座にlocalStorage更新
  - **片手操作**: 親指で全ての操作が可能
- **遷移先**: カレンダー画面、設定画面

### 3.2 カレンダー画面
- **画面ID**: SC002
- **画面名**: カレンダー（履歴表示）
- **概要**: 過去3ヵ月分の施錠履歴をカレンダー形式で表示
- **表示条件**: メイン画面から「履歴を見る」選択時
- **画面要素**: 
  ```
  ┌─────────────────────────────┐
  │ ← 2024年6月 →             │ 月ナビゲーション
  │ ═══════════════════════════ │
  │ 日 月 火 水 木 金 土        │ 曜日ヘッダー
  │                           │
  │ 26 27 28 29 30 31  1      │ カレンダーグリッド
  │                    ✅     │
  │  2  3  4  5  6  7  8      │
  │ ✅ ⚠️ ✅ ✅     ✅     │
  │  9 10 11 12 13 14 15      │
  │ ✅ ✅     ⚠️ ✅ ✅ ✅  │
  │ 16 17 18 19 20 21 22      │
  │ ✅ ✅ ✅     ✅ ✅ ⚠️  │
  │ 23 24 25 26 27 28 29      │
  │ 🔍                       │ 今日
  │ 30                        │
  │                           │
  │ 🏠 今日のチェックに戻る      │ メイン画面遷移
  └─────────────────────────────┘
  ```
- **操作**: 
  - 左右矢印：月移動（過去3ヵ月まで）
  - 日付セルタップ：詳細モーダル表示
  - 戻るボタン：メイン画面遷移
- **遷移先**: メイン画面、詳細モーダル

### 3.3 詳細モーダル
- **画面ID**: SC003
- **画面名**: 日別詳細
- **概要**: 選択した日の施錠詳細情報を表示
- **表示条件**: カレンダー画面で日付セルタップ時
- **画面要素**: 
  ```
  ┌─────────────────────────────┐
  │           ×               │ 閉じるボタン
  │ ═══════════════════════════ │
  │ 📅 2024年6月20日の記録      │ 日付タイトル
  │                           │
  │ ✅ 施錠完了                │ 状態表示
  │                           │
  │ 📍 本錠：🔒 ロック済み      │ 鍵1状態
  │ 📍 バー錠：🔒 ロック済み    │ 鍵2状態
  │                           │
  │ ⏰ 記録時刻                │
  │ 　 22:30                  │ タイムスタンプ
  │                           │
  │ 👤 記録者                 │
  │ 　 ユーザー1               │ 操作者
  │                           │
  │ ┌─────────────────────────┐ │
  │ │      閉じる            │ │ 閉じるボタン
  │ └─────────────────────────┘ │
  └─────────────────────────────┘
  ```
- **操作**: 
  - ×ボタン・閉じるボタン：モーダル閉じる
  - 背景タップ：モーダル閉じる
- **遷移先**: カレンダー画面（戻る）

### 3.4 設定画面
- **画面ID**: SC004
- **画面名**: 設定
- **概要**: アプリケーションの基本設定とデータ管理
- **表示条件**: メイン画面から「設定」選択時
- **画面要素**: 
  ```
  ┌─────────────────────────────┐
  │ ⚙️ 設定                   │ タイトル
  │ ═══════════════════════════ │
  │ 🎨 表示設定                │ セクション1
  │                           │
  │ テーマ                    │
  │ ○ ライト　● ダーク         │ ラジオボタン
  │                           │
  │ 💾 データ管理              │ セクション2
  │                           │
  │ ┌─────────────────────────┐ │
  │ │ 🗑️ データを初期化        │ │ 危険操作
  │ └─────────────────────────┘ │
  │                           │
  │ ℹ️ アプリ情報              │ セクション3
  │                           │
  │ バージョン：1.0            │ バージョン情報
  │ 作成日：2024/6/23          │
  │                           │
  │ 🏠 メインに戻る            │ メイン画面遷移
  └─────────────────────────────┘
  ```
- **操作**: 
  - テーマ選択：ライト・ダーク切替
  - データ初期化：確認ダイアログ→実行
  - 戻るボタン：メイン画面遷移
- **遷移先**: メイン画面

## 4. UI/UXガイドライン

### 4.1 デザイン方針
- **究極のシンプル性**: 日付表示＋2つのボタンのみの最小構成
- **手間ゼロ操作**: タップ数を極限まで削減（2タップで完了）
- **一流デザイナー品質**: Apple・Google レベルの洗練されたUI
- **スマホ最適化**: 片手操作で完結する設計
- **瞬間的理解**: 一目で状況が把握できる視覚設計

### 4.2 カラーパレット（一流デザイナー品質）
- **背景**: `#FAFAFA`（極薄グレー）- 上品な質感
- **カード**: `#FFFFFF`（純白）- クリーンな印象
- **シャドウ**: `rgba(0,0,0,0.08)`（微細な影）- 浮遊感
- **テキスト**: `#1A1A1A`（深い黒）- 可読性最優先
- **アクセント**: `#007AFF`（iOS Blue）- 信頼の青
- **成功**: `#34C759`（iOS Green）- 完了の安心感
- **警告**: `#FF9500`（iOS Orange）- 注意喚起

### 4.3 タイポグラフィ（Apple品質）
- **フォントファミリー**: `-apple-system, BlinkMacSystemFont, 'SF Pro Display'`
- **日付**: `32px, 600 weight`（存在感のある表示）
- **鍵ラベル**: `18px, 500 weight`（読みやすさ重視）
- **ボタンテキスト**: `16px, 600 weight`（アクション性を強調）
- **補助テキスト**: `14px, 400 weight`（邪魔しない情報）

### 4.4 レイアウト（黄金比・調和）
- **余白**: `24px`基準（1.5倍ハーモニー）
- **ボタン高さ**: `64px`（タップしやすい最適サイズ）
- **角丸**: `16px`（上品でモダンな印象）
- **シャドウ**: `0 4px 20px rgba(0,0,0,0.08)`（浮遊感）
- **最大幅**: `400px`（片手操作最適化）

## 5. レスポンシブ対応

### 5.1 ブレイクポイント
- **スマートフォン**: 〜 767px（メイン対象）
- **タブレット**: 768px 〜 1023px
- **デスクトップ**: 1024px 〜

### 5.2 デバイス別レイアウト
```
📱 スマートフォン（縦）
┌─────────────┐
│     画面    │ 全幅使用
│   フル幅    │ 縦スクロール
└─────────────┘

📱 スマートフォン（横）
┌─────────────────────┐
│   画面中央配置       │ 中央寄せ
└─────────────────────┘

💻 デスクトップ
┌──────────────────────────┐
│       最大幅500px       │ 中央寄せ
│      スマホ風レイアウト   │
└──────────────────────────┘
```

## 6. アクセシビリティ

### 6.1 色覚対応
- **色だけに依存しない**: アイコン+色の組み合わせ
- **コントラスト**: WCAG AA準拠（4.5:1以上）

### 6.2 操作性
- **タップ領域**: 最小44px × 44px
- **フォーカス**: キーボード操作対応
- **読み上げ**: aria-label 属性設定

### 6.3 ユーザビリティ
- **確認ダイアログ**: 重要操作は2段階確認
- **フィードバック**: 操作結果を視覚的に表示
- **エラー表示**: 分かりやすいメッセージ

## 7. インタラクション設計

### 7.1 マイクロインタラクション（上質な体験）
- **ボタンタップ**: `scale(0.95)` + `haptic feedback`（150ms）
- **状態切替**: `🔓 → 🔒` スムーズ回転アニメ（300ms）
- **完了ボタン**: フワッと浮上＋グリーン発光（400ms）
- **画面遷移**: iOS風スライドトランジション（350ms）

### 7.2 視覚的フィードバック（即座理解）
```css
/* ボタン状態の瞬間的変化 */
🔓 → (回転 + 色変化) → 🔒
unlocked: #FF9500 → locked: #34C759

/* 完了状態の美しい表現 */
両方🔒時: ✨✅完了✨ (グリーン + 輝き効果)

/* エラー時の優雅な表示 */
問題発生: 🔴微細振動 + オレンジ点滅
```

### 7.3 パフォーマンス（60fps保証）
- **CSS Transform使用**: GPU加速による滑らか動作
- **will-change**: アニメーション要素の事前最適化
- **debounce**: 連続タップ防止（300ms）
- **lazy loading**: 画面外要素の遅延読み込み